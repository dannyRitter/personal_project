/*! prime_personal_project 2015-12-07 */
var myApp=angular.module("myApp",["ngRoute","ngAria","ngMaterial","ngMessages"]);myApp.config(["$routeProvider",function(a){a.when("/index",{templateUrl:"/assets/views/routes/questionnaire.html",controller:"questionsController"}).when("/about",{templateUrl:"/assets/views/routes/about.html"}).when("/contact",{templateUrl:"/assets/views/routes/contact.html"}).when("/questionnaire",{templateUrl:"/assets/views/routes/questionnaire.html",controller:"questionsController"}).when("/results",{templateUrl:"/assets/views/routes/results.html",controller:"factoryController"}).otherwise("/index")}]),myApp.config(["$mdThemingProvider",function(a){a.theme("default").primaryPalette("red").accentPalette("red")}]),myApp.controller("questionsController",["$scope","$http","resultsFactory","$mdDialog","$location",function(a,b,c,d,e){a.answer={},a.questionIndex=0,a.currentQuestion=0,a.userResponseObject={},a.answersArray=[],a.successArray=[],a.domArray=[],a.questionsArray=[],a.showButton,a.getQuestions=function(){b.get("/data").then(function(b){a.questionsArray=[];for(var c=0;c<b.data.length;c++){var d=b.data[c];d.index=c,d.show=!0,a.questionsArray.push(d),a.questionIndex=0}a.showCurrent()})},a.submitAnswer=function(b){var d="question"+a.currentQuestion;a.userResponseObject[d]=b.response,a.currentQuestion++,console.log(b),a.currentQuestion==a.questionsArray.length&&(a.answersArray.push(a.userResponseObject),2==a.answersArray.length?(console.log("User response objects: ",a.answersArray[0],a.answersArray[1]),a.compareAnswers(),a.showSuccesses(),c.setResults(a.domArray),a.showButton=!0,a.buttonReveal(a.showButton),a.resultsAlert()):(a.userResponseObject={},a.currentQuestion=0,a.secondUserAlert()));for(var e=0;e<a.questionsArray.length;e++)a.questionsArray[e].show=!1;a.showCurrent()},a.buttonReveal=function(a){return 1==a?!0:!1},a.compareAnswers=function(){for(var b=a.answersArray[0],c=a.answersArray[1],d=0;d<a.questionsArray.length;d++)b["question"+d]>=3&&c["question"+d]>=3&&a.successArray.push(d);console.log("Here are the matches!",a.successArray)},a.showSuccesses=function(){for(var b=a.successArray,c=a.questionsArray,d=0;d<b.length;d++)a.domArray.push(c[b[d]])},a.showCurrent=function(){for(var b=0;b<a.questionsArray.length;b++)a.questionsArray[b].index==a.currentQuestion?a.questionsArray[b].show=!0:a.questionsArray[b].show=!1},a.getQuestions(),a.welcomeAlert=function(){var a="<br><br>“Yes, please!” is a questionnaire for couples for the purpose of highlighting common interests. <br><br><br> What kind of interests? Sexy interests! The following questionnaire is all about sexual activities, desires, and kinks. Each partner will answer the questionnaire individually, with the ability to answer each question completely honestly because the results of the questionnaire will only reveal the activities that both partners indicated interest in. <br><br><br> The questionnaire is designed to be useful for all kinds of couples, regardless of gender or sexual orientation, and because of the goal the questions are fairly universal for the time being (check out the “About” page for more information). <br><br><br> Each question will have a name of the activity, a definition, and a brief quote explaining why the activity is fun for some folks. Please keep an open mind as you answer each question - it is 100% OK if you are not interested in a given activity, but remember that someone out there (probably many someones) find that activity really sexy. As a final heads up: although there are no explicit images or visual content, the language is most likely NSFW, so proceed with caution if that is a concern! <br><br><br> Now, how about we get to those questions?",b=d.alert().title("Hello there!").content(a).ok('"Yes, please!"');d.show(b)["finally"](function(){b=void 0})},a.secondUserAlert=function(){var a="Time for Partner #2! The questionnaire will start again. Remember to answer honestly as only the questions that are both answered positively will be shown in the results.<br><br><br>If partner #1 hasn’t left yet, tell them to go take a walk around the block!",b=d.alert().title("PAUSE!").content(a).ok("Ready!");d.show(b)["finally"](function(){b=void 0})},a.resultsAlert=function(){var a="Let’s add up the positive responses of both partners to find some exciting matches!<br><br><br>Please remember that interest in a particular activity is not the same as giving consent! Use these results to get a fun conversation going about sexy things you would like to try as a couple.<br><br><br>If you are sad to see that your partner was not interested in a particular activity, try to use be honest with them about your desires. Your partner may not be super excited about an activity but they still may be open to trying something new if it is important to you! Communication is important, even if it’s scary!<br><br><br>With the disclaimers out of the way, on to the fun!",b=d.alert().title("It’s time for the Results!").content(a).ok("See Results!");d.show(b).then(function(){e.path("/results")})["finally"](function(){b=void 0})},c.getIntroAlert()||(c.setIntroAlert(!0),a.welcomeAlert())}]),myApp.controller("factoryController",["$scope","$http","resultsFactory","$mdDialog",function(a,b,c,d){a.domArray=[],a.domArray=c.getResults()}]),myApp.factory("resultsFactory",function(){var a=[],b=!1;return{getResults:function(){return a},setResults:function(b){return a=b},getIntroAlert:function(){return b},setIntroAlert:function(a){b=a}}});