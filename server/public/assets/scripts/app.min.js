/*! prime_personal_project 2015-12-05 */
var myApp=angular.module("myApp",["ngRoute","ngMaterial","ngMessages"]);myApp.config(["$routeProvider",function(a){a.when("/index",{templateUrl:"/assets/views/routes/questionnaire.html",controller:"questionsController"}).when("/about",{templateUrl:"/assets/views/routes/about.html"}).when("/contact",{templateUrl:"/assets/views/routes/contact.html"}).when("/questionnaire",{templateUrl:"/assets/views/routes/questionnaire.html",controller:"questionsController"}).when("/results",{templateUrl:"/assets/views/routes/results.html",controller:"factoryController"}).otherwise("/index")}]),myApp.config(["$mdThemingProvider",function(a){a.theme("default").primaryPalette("red").accentPalette("grey")}]),myApp.controller("questionsController",["$scope","$http","resultsFactory","$mdDialog",function(a,b,c,d){a.answer={},a.questionIndex=0,a.currentQuestion=0,a.userResponseObject={},a.answersArray=[],a.successArray=[],a.domArray=[],a.questionsArray=[],a.showButton,a.getQuestions=function(){b.get("/data").then(function(b){a.questionsArray=[];for(var c=0;c<b.data.length;c++){var d=b.data[c];d.index=c,d.show=!0,a.questionsArray.push(d),a.questionIndex=0}a.showCurrent()})},a.submitAnswer=function(b){var d="question"+a.currentQuestion;a.userResponseObject[d]=b.response,a.currentQuestion++,console.log(b),a.currentQuestion==a.questionsArray.length&&(a.answersArray.push(a.userResponseObject),2==a.answersArray.length?(console.log("User response objects: ",a.answersArray[0],a.answersArray[1]),a.compareAnswers(),a.showSuccesses(),c.setResults(a.domArray),a.showButton=!0,a.buttonReveal(a.showButton),a.resultsAlert()):(a.userResponseObject={},a.currentQuestion=0,a.secondUserAlert()));for(var e=0;e<a.questionsArray.length;e++)a.questionsArray[e].show=!1;a.showCurrent()},a.buttonReveal=function(a){return 1==a?!0:!1},a.compareAnswers=function(){for(var b=a.answersArray[0],c=a.answersArray[1],d=0;d<a.questionsArray.length;d++)b["question"+d]>=3&&c["question"+d]>=3&&a.successArray.push(d);console.log("Here are the matches!",a.successArray)},a.showSuccesses=function(){for(var b=a.successArray,c=a.questionsArray,d=0;d<b.length;d++)a.domArray.push(c[b[d]])},a.showCurrent=function(){for(var b=0;b<a.questionsArray.length;b++)a.questionsArray[b].index==a.currentQuestion?a.questionsArray[b].show=!0:a.questionsArray[b].show=!1},a.getQuestions(),a.welcomeAlert=function(){console.log("Yupper do");var a=d.alert().title("Attention").content("This is an example of how easy dialogs can be!").ok("Close");d.show(a)["finally"](function(){a=void 0})},a.secondUserAlert=function(){var a=d.alert().title("Ok player 2!").content("It's time for the other partner to answer some sexy questions.").ok("Close");d.show(a)["finally"](function(){a=void 0})},a.resultsAlert=function(){var a=d.alert().title("Time for the results!").content("Click the button to see how your answers compared.").ok("See Results!");d.show(a)["finally"](function(){a=void 0})},a.welcomeAlert()}]),myApp.controller("factoryController",["$scope","$http","resultsFactory","$mdDialog",function(a,b,c,d){a.domArray=[],a.domArray=c.getResults()}]),myApp.factory("resultsFactory",function(){var a=[];return{getResults:function(){return a},setResults:function(b){return a=b}}}),myApp.directive("questionInfo",function(){return{restrict:"AE",scope:{info:"=",action:"&"},templateUrl:"assets/views/questioninfo.html"}});